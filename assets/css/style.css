/* Add these CSS rules to fix mobile filter dropdown issues */

/* Increase z-index for filter dropdown to ensure it appears above mod cards */
#filter-dropdown {
  z-index: 50 !important; /* Increased from z-10 */
}

/* Ensure controls container has proper stacking context */
#controls-container {
  z-index: 40; /* Increased from z-index: 5 */
}

/* Fix mobile dropdown positioning and prevent overflow */
@media (max-width: 768px) {
  #filter-dropdown {
    left: 0 !important;
    right: 0 !important;
    margin-left: 0;
    margin-right: 0;
    max-width: 100vw;
    box-sizing: border-box;
    overflow-x: auto; /* Allow horizontal scroll if needed */
    white-space: nowrap; /* Prevent text wrapping that could cause issues */
    position: relative;
  }
  
  /* Add scroll indicators */
  #filter-dropdown::before,
  #filter-dropdown::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    pointer-events: none;
    z-index: 10;
    transition: opacity 0.2s ease;
  }
  
  /* Right arrow (scroll right indicator) */
  #filter-dropdown::after {
    right: 4px;
    border-left: 6px solid #fbbf24;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    opacity: 1;
  }
  
  /* Left arrow (scroll left indicator) - initially hidden */
  #filter-dropdown::before {
    left: 4px;
    border-right: 6px solid #fbbf24;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    opacity: 0;
  }
  
  /* Ensure the dropdown content doesn't overflow */
  #filter-dropdown .flex.flex-wrap.items-center {
    flex-wrap: nowrap !important; /* Prevent wrapping on very small screens */
    gap: 0.25rem 0.5rem;
    overflow-x: auto;
    padding-bottom: 0.25rem; /* Add space for potential scrollbar */
    padding-left: 12px; /* Space for left arrow */
    padding-right: 12px; /* Space for right arrow */
    scrollbar-width: thin; /* Firefox */
    -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
  }
  
  /* Webkit scrollbar styling */
  #filter-dropdown .flex.flex-wrap.items-center::-webkit-scrollbar {
    height: 4px;
  }
  
  #filter-dropdown .flex.flex-wrap.items-center::-webkit-scrollbar-track {
    background: rgba(55, 65, 81, 0.3);
    border-radius: 2px;
  }
  
  #filter-dropdown .flex.flex-wrap.items-center::-webkit-scrollbar-thumb {
    background: #fbbf24;
    border-radius: 2px;
  }
  
  /* Adjust font sizes to fit better on mobile */
  #filter-dropdown span,
  #filter-dropdown label {
    font-size: 0.65rem !important;
    white-space: nowrap;
  }
}

/* Extra small screens - even more compact */
@media (max-width: 320px) {
  #filter-dropdown {
    padding: 0.25rem 0.5rem;
  }
  
  #filter-dropdown span,
  #filter-dropdown label {
    font-size: 0.6rem !important;
  }
  
  #filter-dropdown input[type="checkbox"],
  #filter-dropdown input[type="radio"] {
    width: 8px !important;
    height: 8px !important;
  }
}
